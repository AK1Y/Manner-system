{"remainingRequest":"C:\\Users\\Varro\\Desktop\\Manager\\Club_management_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Varro\\Desktop\\Manager\\Club_management_vue\\src\\components\\nav.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Varro\\Desktop\\Manager\\Club_management_vue\\src\\components\\nav.vue","mtime":1740418278799},{"path":"C:\\Users\\Varro\\Desktop\\Manager\\Club_management_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1740068231236},{"path":"C:\\Users\\Varro\\Desktop\\Manager\\Club_management_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1740068230284},{"path":"C:\\Users\\Varro\\Desktop\\Manager\\Club_management_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1740068231236},{"path":"C:\\Users\\Varro\\Desktop\\Manager\\Club_management_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1740068241532}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIGV4aXQsDQogICAgZ2V0TG9naW5Vc2VyLA0KICAgIGNoZWNrVXNlclB3ZCwNCiAgICB1cGRMb2dpblVzZXJJbmZvLA0KICAgIHVwZExvZ2luVXNlclB3ZCwNCn0gZnJvbSAiLi4vYXBpIjsNCg0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgdmFyIGNoZWNrT2xkUHdkID0gYXN5bmMgKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgICAgICAgaWYgKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgY2hlY2tVc2VyUHdkKHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuLCB2YWx1ZSkudGhlbigNCiAgICAgICAgICAgICAgICAgICAgKHJlc3ApID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgIT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5Y6f5aeL5a+G56CB6L6T5YWl6ZSZ6K+vIikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLljp/lp4vlr4bnoIHlv4XpobvovpPlhaUiKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgICB9Ow0KICAgICAgICB2YXIgY2hlY2tOZXdQd2QgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICAgICAgICBpZiAoIXZhbHVlKSB7DQogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLkv67mlLnlr4bnoIHlv4XpobvovpPlhaUiKSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGNhbGxiYWNrKCk7DQogICAgICAgIH07DQogICAgICAgIHZhciBjaGVja1JlUHdkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgICAgICAgaWYgKCF2YWx1ZSkgew0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi56Gu6K6k5a+G56CB5b+F6aG76L6T5YWlIikpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAodmFsdWUgIT0gdGhpcy51c2VyUHdkLm5ld1B3ZCkgew0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0IikpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgICB9Ow0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgc2hvd1VwZEluZm9GbGFnOiBmYWxzZSwNCiAgICAgICAgICAgIHNob3dVcGRQd2RGbGFnOiBmYWxzZSwNCiAgICAgICAgICAgIHVzZXJQd2Q6IHsNCiAgICAgICAgICAgICAgICBvbGRQd2Q6ICIiLA0KICAgICAgICAgICAgICAgIG5ld1B3ZDogIiIsDQogICAgICAgICAgICAgICAgcmVQd2Q6ICIiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHVzZXJQd2RGb3JtUnVsZXM6IHsNCiAgICAgICAgICAgICAgICBvbGRQd2Q6IFsNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBjaGVja09sZFB3ZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIG5ld1B3ZDogWw0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrTmV3UHdkLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgcmVQd2Q6IFsNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBjaGVja1JlUHdkLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdXNlckZvcm06IHsNCiAgICAgICAgICAgICAgICBpZDogIiIsDQogICAgICAgICAgICAgICAgdXNlck5hbWU6ICIiLA0KICAgICAgICAgICAgICAgIHBhc3NXb3JkOiAiIiwNCiAgICAgICAgICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgICAgICAgICBnZW5kZXI6ICIiLA0KICAgICAgICAgICAgICAgIGFnZTogIiIsDQogICAgICAgICAgICAgICAgcGhvbmU6ICIiLA0KICAgICAgICAgICAgICAgIGFkZHJlc3M6ICIiLA0KCQkJCWF2YXRhcjogIiIsDQogICAgICAgICAgICB9LA0KICAgICAgICB9Ow0KICAgIH0sDQoJbW91bnRlZCgpIHsNCg0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCg0KICAgICAgICAgICAgDQogICAgICAgIH0sIDEwMCkNCgl9LA0KICAgIG1ldGhvZHM6IHsNCgkJaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXNwb25zZSwgZmlsZSkgew0KCQkNCgkJICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAwICYmIHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5hdmF0YXJVcmwpIHsNCgkJDQoJCSAgICAgIHRoaXMudXNlckZvcm0uYXZhdGFyID0gcmVzcG9uc2UuZGF0YS5hdmF0YXJVcmw7DQoJCQ0KCQkgICAgfSBlbHNlIHsNCgkJDQoJCSAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+Wksei0pScpOw0KCQkNCgkJICAgIH0NCgkJDQoJCSAgfSwNCiAgICAgICAgaGFuZGxlVXNlcihjb21tKSB7DQogICAgICAgICAgICBpZiAoY29tbSA9PSAiaW5mbyIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dVcGRJbmZvV2luKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChjb21tID09ICJwd2QiKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93VXBkUHdkV2luKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChjb21tID09ICJleGl0Iikgew0KICAgICAgICAgICAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOimgemAgOWHuuWQl++8nyIsICLns7vnu5/mj5DnpLoiLCB7DQogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu6K6kIiwNCiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZXhpdCh0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbikudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImNsZWFyVG9rZW4iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2xlYXJNZW51cyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBpbml0VXNlclB3ZCgpIHsNCiAgICAgICAgICAgIHRoaXMudXNlclB3ZCA9IHsNCiAgICAgICAgICAgICAgICBvbGRQd2Q6ICIiLA0KICAgICAgICAgICAgICAgIG5ld1B3ZDogIiIsDQogICAgICAgICAgICAgICAgcmVQd2Q6ICIiLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSwNCiAgICAgICAgaW5pdFVzZXJGb3JtKCkgew0KICAgICAgICAgICAgdGhpcy51c2VyRm9ybSA9IHsNCiAgICAgICAgICAgICAgICBpZDogIiIsDQogICAgICAgICAgICAgICAgdXNlck5hbWU6ICIiLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSwNCiAgICAgICAgc2hvd1VwZEluZm9XaW4oKSB7DQogICAgICAgICAgICBnZXRMb2dpblVzZXIodGhpcy4kc3RvcmUuc3RhdGUudG9rZW4pLnRoZW4oKHJlc3ApID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmluaXRVc2VyRm9ybSgpOw0KICAgICAgICAgICAgICAgIHRoaXMudXNlckZvcm0gPSByZXNwLmRhdGE7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93VXBkSW5mb0ZsYWcgPSB0cnVlOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIHNob3dVcGRQd2RXaW4oKSB7DQogICAgICAgICAgICB0aGlzLmluaXRVc2VyUHdkKCk7DQogICAgICAgICAgICB0aGlzLnNob3dVcGRQd2RGbGFnID0gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgdXBkSW5mbygpIHsNCiAgICAgICAgICAgIHRoaXMudXNlckZvcm0udG9rZW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbjsNCiAgICAgICAgICAgIHVwZExvZ2luVXNlckluZm8odGhpcy51c2VyRm9ybSkudGhlbigocmVzcCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwLm1zZywNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgdGhpcy5zaG93VXBkSW5mb0ZsYWcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmluaXRVc2VyRm9ybSgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIHVwZFB3ZChmb3JtTmFtZSkgew0KICAgICAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgICAgIHVwZExvZ2luVXNlclB3ZCh0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiwgdGhpcy51c2VyUHdkLm5ld1B3ZCkNCiAgICAgICAgICAgICAgICAudGhlbigocmVzcCkgPT4gew0KICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLkv67mlLnmiJDlip/vvIznqI3lkI7pgIDlh7rns7vnu58iLA0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgIC8vIOS9v+eUqHNldFRpbWVvdXTlh73mlbDmnaXlu7bov5/miafooYzpgIDlh7rmk43kvZwNCiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBleGl0KHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImNsZWFyVG9rZW4iKTsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImNsZWFyTWVudXMiKTsNCiAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOw0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7IC8vIOW7tui/nzLnp5Lpkp8NCiAgICAgICAgDQogICAgICAgICAgICAgICAgICB0aGlzLnNob3dVcGRQd2RGbGFnID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICB0aGlzLmluaXRVc2VyUHdkKCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgfSwNCn07DQo="},{"version":3,"sources":["nav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqNA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nav.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <el-header class=\"fater-header\">\r\n        <div class=\"fater-header-logo\">\r\n            <el-row :gutter=\"16\">\r\n                <el-col :span=\"6\">\r\n                    <img\r\n                        src=\"@/assets/04.png\"\r\n                        style=\"\r\n                            width: 35px;\r\n                            height: 35px;\r\n                            margin: 17px 5px 0 10px;\r\n                            -webkit-user-drag: none;\r\n                            -khtml-user-drag: none;\r\n                            -moz-user-drag: none;\r\n                            user-drag: none;\r\n                        \"\r\n                    />\r\n                </el-col>\r\n                <el-col :span=\"18\" style=\"font-size: 26px\">\r\n                    GO!青春\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n        <el-dropdown @command=\"handleUser\" class=\"fater-header-user\">\r\n            <span class=\"el-dropdown-link\">\r\n                <el-row>\r\n                    <el-col :span=\"7\">\r\n                        <el-avatar\r\n                            shape=\"square\"\r\n                            :size=\"55\"\r\n                            :src=\"require('@/assets/avatar.jpg')\"\r\n                            style=\"\r\n                                margin: 5px 40px 0 0;\r\n                                border: 1px solid lightgrey;\r\n                            \"\r\n                        ></el-avatar>\r\n                    </el-col>\r\n                    <el-col :span=\"17\" style=\"font-size: 24px; font-weight: 600;text-align: center;\">\r\n\t\t\t\t\t\t{{$store.state.user != undefined ? $store.state.user.name : ''}}\r\n\t\t\t\t\t</el-col>\r\n                </el-row>\r\n            </span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item command=\"info\">修改信息</el-dropdown-item>\r\n                <el-dropdown-item command=\"pwd\">修改密码</el-dropdown-item>\r\n                <el-dropdown-item command=\"exit\">退出系统</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n        </el-dropdown>\r\n\r\n        <el-dialog\r\n            title=\"修改信息\"\r\n            width=\"700px\"\r\n            :append-to-body=\"true\"\r\n            :visible.sync=\"showUpdInfoFlag\"\r\n        >\r\n            <el-form label-width=\"80px\" :model=\"userForm\">\r\n            \t<!-- <el-form-item label=\"用户头像\">\r\n            \t\r\n            \t  <el-upload\r\n            \t\r\n            \t    class=\"avatar-uploader\"\r\n            \t\r\n            \t    action=\"/api/index/avatar\"\r\n            \t\r\n            \t    :headers=\"{ authorization: 'Bearer ' + this.$store.state.token }\"\r\n            \t\r\n            \t    :show-file-list=\"false\"\r\n            \t\r\n            \t    :on-success=\"handleAvatarSuccess\"\r\n            \t\r\n            \t  >\r\n            \t\r\n            \t    <img v-if=\"userForm.avatar\" :src=\"userForm.avatar\" class=\"avatar\">\r\n            \t\r\n            \t    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            \t\r\n            \t  </el-upload>\r\n            \t\r\n            \t</el-form-item> -->\r\n                <el-row :gutter=\"15\">\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"用户账号\">\r\n                            <el-input\r\n                                v-model=\"userForm.userName\"\r\n                                placeholder=\"请输入用户账号…\"\r\n                                autocomplete=\"off\"\r\n                            ></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <!-- <el-col :span=\"12\">\r\n                        <el-form-item label=\"用户密码\">\r\n                            <el-input\r\n                                v-model=\"userForm.passWord\"\r\n                                type=\"password\"\r\n                                placeholder=\"请输入用户密码…\"\r\n                                autocomplete=\"off\"\r\n                            ></el-input>\r\n                        </el-form-item>\r\n                    </el-col> -->\r\n            \t\t<el-col :span=\"12\">\r\n            \t\t    <el-form-item label=\"用户年龄\">\r\n            \t\t        <el-input\r\n            \t\t            v-model=\"userForm.age\"\r\n            \t\t            placeholder=\"请输入用户年龄…\"\r\n            \t\t            autocomplete=\"off\"\r\n            \t\t        ></el-input>\r\n            \t\t    </el-form-item>\r\n            \t\t</el-col>\r\n                </el-row>\r\n                <el-row :gutter=\"15\">\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"用户姓名\">\r\n                            <el-input\r\n                                v-model=\"userForm.name\"\r\n                                placeholder=\"请输入用户姓名…\"\r\n                                autocomplete=\"off\"\r\n                            ></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"联系电话\">\r\n                            <el-input\r\n                                v-model=\"userForm.phone\"\r\n                                placeholder=\"请输入联系电话…\"\r\n                                autocomplete=\"off\"\r\n                            ></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row :gutter=\"15\">\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"用户性别\">\r\n                            <el-radio-group v-model=\"userForm.gender\">\r\n                                <el-radio label=\"男\"></el-radio>\r\n                                <el-radio label=\"女\"></el-radio>\r\n                            </el-radio-group>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    \r\n                </el-row>\r\n                <el-form-item label=\"联系地址\">\r\n                    <el-input\r\n                        rows=\"4\"\r\n                        type=\"textarea\"\r\n                        v-model=\"userForm.address\"\r\n                        placeholder=\"请输入联系地址…\"\r\n                        autocomplete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"showUpdInfoFlag = false\" style=\"font-size: 18px\"> 取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"updInfo()\" style=\"font-size: 18px\"> 确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n\r\n        <el-dialog\r\n            title=\"修改密码\"\r\n            width=\"600px\"\r\n            :append-to-body=\"true\"\r\n            :visible.sync=\"showUpdPwdFlag\"\r\n        >\r\n            <el-form\r\n                label-width=\"80px\"\r\n                ref=\"userPwd\"\r\n                :model=\"userPwd\"\r\n                :rules=\"userPwdFormRules\"\r\n            >\r\n                <el-form-item label=\"原始密码\" prop=\"oldPwd\">\r\n                    <el-input\r\n                        type=\"password\"\r\n                        v-model=\"userPwd.oldPwd\"\r\n                        placeholder=\"请输入原始密码……\"\r\n                        autocomplete=\"off\"\r\n                    >\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"修改密码\" prop=\"newPwd\">\r\n                    <el-input\r\n                        type=\"password\"\r\n                        v-model=\"userPwd.newPwd\"\r\n                        placeholder=\"请输入修改密码……\"\r\n                        autocomplete=\"off\"\r\n                    >\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"确认密码\" prop=\"rePwd\">\r\n                    <el-input\r\n                        type=\"password\"\r\n                        v-model=\"userPwd.rePwd\"\r\n                        placeholder=\"请再次确认密码……\"\r\n                        autocomplete=\"off\"\r\n                    >\r\n                    </el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"showUpdPwdFlag = false\" \r\n                                style=\"font-size: 18px\">  取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"updPwd('userPwd')\"\r\n                \r\n                                style=\"font-size: 18px\"\r\n                    >  确 定</el-button\r\n                >\r\n            </div>\r\n        </el-dialog>\r\n    </el-header>\r\n</template>\r\n\r\n<style>\r\n</style>\r\n\r\n<script>\r\nimport {\r\n    exit,\r\n    getLoginUser,\r\n    checkUserPwd,\r\n    updLoginUserInfo,\r\n    updLoginUserPwd,\r\n} from \"../api\";\r\n\r\n\r\nexport default {\r\n    data() {\r\n        var checkOldPwd = async (rule, value, callback) => {\r\n            if (value) {\r\n                await checkUserPwd(this.$store.state.token, value).then(\r\n                    (resp) => {\r\n                        if (resp.code != 0) {\r\n                            callback(new Error(\"原始密码输入错误\"));\r\n                        }\r\n                    }\r\n                );\r\n            } else {\r\n                callback(new Error(\"原始密码必须输入\"));\r\n            }\r\n            callback();\r\n        };\r\n        var checkNewPwd = (rule, value, callback) => {\r\n            if (!value) {\r\n                callback(new Error(\"修改密码必须输入\"));\r\n            }\r\n\r\n            callback();\r\n        };\r\n        var checkRePwd = (rule, value, callback) => {\r\n            if (!value) {\r\n                callback(new Error(\"确认密码必须输入\"));\r\n            }\r\n\r\n            if (value != this.userPwd.newPwd) {\r\n                callback(new Error(\"两次输入密码不一致\"));\r\n            }\r\n\r\n            callback();\r\n        };\r\n        return {\r\n            showUpdInfoFlag: false,\r\n            showUpdPwdFlag: false,\r\n            userPwd: {\r\n                oldPwd: \"\",\r\n                newPwd: \"\",\r\n                rePwd: \"\",\r\n            },\r\n            userPwdFormRules: {\r\n                oldPwd: [\r\n                    {\r\n                        validator: checkOldPwd,\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n                newPwd: [\r\n                    {\r\n                        validator: checkNewPwd,\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n                rePwd: [\r\n                    {\r\n                        validator: checkRePwd,\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n            },\r\n            userForm: {\r\n                id: \"\",\r\n                userName: \"\",\r\n                passWord: \"\",\r\n                name: \"\",\r\n                gender: \"\",\r\n                age: \"\",\r\n                phone: \"\",\r\n                address: \"\",\r\n\t\t\t\tavatar: \"\",\r\n            },\r\n        };\r\n    },\r\n\tmounted() {\r\n\r\n        setTimeout(() => {\r\n\r\n            \r\n        }, 100)\r\n\t},\r\n    methods: {\r\n\t\thandleAvatarSuccess(response, file) {\r\n\t\t\r\n\t\t    if (response.code === 0 && response.data && response.data.avatarUrl) {\r\n\t\t\r\n\t\t      this.userForm.avatar = response.data.avatarUrl;\r\n\t\t\r\n\t\t    } else {\r\n\t\t\r\n\t\t      this.$message.error('上传头像失败');\r\n\t\t\r\n\t\t    }\r\n\t\t\r\n\t\t  },\r\n        handleUser(comm) {\r\n            if (comm == \"info\") {\r\n                this.showUpdInfoWin();\r\n            }\r\n\r\n            if (comm == \"pwd\") {\r\n                this.showUpdPwdWin();\r\n            }\r\n\r\n            if (comm == \"exit\") {\r\n                this.$confirm(\"确认要退出吗？\", \"系统提示\", {\r\n                    confirmButtonText: \"确认\",\r\n                    cancelButtonText: \"取消\",\r\n                    type: \"warning\",\r\n                }).then(() => {\r\n                    exit(this.$store.state.token).then(() => {\r\n                        this.$store.commit(\"clearToken\");\r\n                        this.$store.commit(\"clearMenus\");\r\n                        sessionStorage.clear();\r\n                        this.$router.push(\"/\");\r\n                    });\r\n                });\r\n            }\r\n        },\r\n        initUserPwd() {\r\n            this.userPwd = {\r\n                oldPwd: \"\",\r\n                newPwd: \"\",\r\n                rePwd: \"\",\r\n            };\r\n        },\r\n        initUserForm() {\r\n            this.userForm = {\r\n                id: \"\",\r\n                userName: \"\",\r\n            };\r\n        },\r\n        showUpdInfoWin() {\r\n            getLoginUser(this.$store.state.token).then((resp) => {\r\n                this.initUserForm();\r\n                this.userForm = resp.data;\r\n                this.showUpdInfoFlag = true;\r\n            });\r\n        },\r\n        showUpdPwdWin() {\r\n            this.initUserPwd();\r\n            this.showUpdPwdFlag = true;\r\n        },\r\n        updInfo() {\r\n            this.userForm.token = this.$store.state.token;\r\n            updLoginUserInfo(this.userForm).then((resp) => {\r\n                this.$message({\r\n                    message: resp.msg,\r\n                    type: \"success\",\r\n                });\r\n\r\n                this.showUpdInfoFlag = false;\r\n                this.initUserForm();\r\n            });\r\n        },\r\n        updPwd(formName) {\r\n          this.$refs[formName].validate((valid) => {\r\n            if (valid) {\r\n              updLoginUserPwd(this.$store.state.token, this.userPwd.newPwd)\r\n                .then((resp) => {\r\n                  this.$message({\r\n                    message: \"修改成功，稍后退出系统\",\r\n                    type: \"success\",\r\n                  });\r\n                  // 使用setTimeout函数来延迟执行退出操作\r\n                  setTimeout(() => {\r\n                    exit(this.$store.state.token).then(() => {\r\n                      this.$store.commit(\"clearToken\");\r\n                      this.$store.commit(\"clearMenus\");\r\n                      sessionStorage.clear();\r\n                      this.$router.push(\"/\");\r\n                    });\r\n                  }, 2000); // 延迟2秒钟\r\n        \r\n                  this.showUpdPwdFlag = false;\r\n                  this.initUserPwd();\r\n                });\r\n            } else {\r\n              return false;\r\n            }\r\n          });\r\n        },\r\n    },\r\n};\r\n</script>\r\n"]}]}